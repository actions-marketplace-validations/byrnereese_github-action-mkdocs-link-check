name: 'mkdocs-link-check'
description: 'Check if all links are valid in markdown files, specifically, but not exclusively mkdocs.'
author: 'Byrne Reese'
branding:
  icon: 'link'  
  color: 'green'
inputs:
  verbose-mode:
    description: 'Use yes to enable markdown-link-check verbose mode which lists
    additional details.'
    required: true
    default: 'no'
  folder-path:
    description: 'Specify path to a custom folder where your markdown files are located.'
    required: true
    default: 'docs'
  file-extension:
    description: 'Use this to specify the file extension of Markdown files.'
    required: true
    default: '.md'
  excludes:
    description: 'Use this to exclude links from being checked - accepts regular expressions as input.'
    required: false
  synchronous:
    description: 'Forces external/remote link checking to be done using a synchronous library. This is slower, but more reliable and stable.'
    required: false
    default: 'false'    
  local-only:
    description: 'Checks only relative internal documentation links. Do NOT test remote links.'
    required: false
    default: 'false'    
  method:
    description: 'Determines HTTP method used for checking remote links. This can be set to "get" (slower and fewer false positives) or "head" (super fast).'
    required: false
    default: 'get'    

runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.verbose-mode }}
    - ${{ inputs.folder-path }}
    - ${{ inputs.file-extension }}
    - ${{ inputs.excludes }}
    - ${{ inputs.method }}
    - ${{ inputs.synchronous }}
    - ${{ inputs.local-only }}
